import 'dart:io';

import 'package:http/http.dart' as http;
import 'package:http/io_client.dart';

http.Client createHttpClient({
  Duration? connectionTimeout,
}) {
  SecurityContext context = SecurityContext(withTrustedRoots: true);

  context.setTrustedCertificatesBytes(cipherwaveCertificate);

  final customHttpClient = HttpClient(context: context);
  customHttpClient.badCertificateCallback = (X509Certificate cert, String host, int port) {
    print("!!!!Bad certificate");
    return true;
  };

  customHttpClient.connectionTimeout = connectionTimeout;

  return IOClient(customHttpClient);
}

//TODO Do universal mechanism for provide certificate
List<int> cipherwaveCertificate = <int>[
  45,
  45,
  45,
  45,
  45,
  66,
  69,
  71,
  73,
  78,
  32,
  67,
  69,
  82,
  84,
  73,
  70,
  73,
  67,
  65,
  84,
  69,
  45,
  45,
  45,
  45,
  45,
  10,
  77,
  73,
  73,
  71,
  111,
  68,
  67,
  67,
  66,
  89,
  105,
  103,
  65,
  119,
  73,
  66,
  65,
  103,
  73,
  74,
  65,
  73,
  65,
  98,
  55,
  112,
  43,
  105,
  55,
  97,
  116,
  51,
  77,
  65,
  48,
  71,
  67,
  83,
  113,
  71,
  83,
  73,
  98,
  51,
  68,
  81,
  69,
  66,
  67,
  119,
  85,
  65,
  77,
  73,
  71,
  48,
  77,
  81,
  115,
  119,
  67,
  81,
  89,
  68,
  10,
  86,
  81,
  81,
  71,
  69,
  119,
  74,
  86,
  85,
  122,
  69,
  81,
  77,
  65,
  52,
  71,
  65,
  49,
  85,
  69,
  67,
  66,
  77,
  72,
  81,
  88,
  74,
  112,
  101,
  109,
  57,
  117,
  89,
  84,
  69,
  84,
  77,
  66,
  69,
  71,
  65,
  49,
  85,
  69,
  66,
  120,
  77,
  75,
  85,
  50,
  78,
  118,
  100,
  72,
  82,
  122,
  90,
  71,
  70,
  115,
  90,
  84,
  69,
  97,
  10,
  77,
  66,
  103,
  71,
  65,
  49,
  85,
  69,
  67,
  104,
  77,
  82,
  82,
  50,
  57,
  69,
  89,
  87,
  82,
  107,
  101,
  83,
  53,
  106,
  98,
  50,
  48,
  115,
  73,
  69,
  108,
  117,
  89,
  121,
  52,
  120,
  76,
  84,
  65,
  114,
  66,
  103,
  78,
  86,
  66,
  65,
  115,
  84,
  74,
  71,
  104,
  48,
  100,
  72,
  65,
  54,
  76,
  121,
  57,
  106,
  90,
  88,
  74,
  48,
  10,
  99,
  121,
  53,
  110,
  98,
  50,
  82,
  104,
  90,
  71,
  82,
  53,
  76,
  109,
  78,
  118,
  98,
  83,
  57,
  121,
  90,
  88,
  66,
  118,
  99,
  50,
  108,
  48,
  98,
  51,
  74,
  53,
  76,
  122,
  69,
  122,
  77,
  68,
  69,
  71,
  65,
  49,
  85,
  69,
  65,
  120,
  77,
  113,
  82,
  50,
  56,
  103,
  82,
  71,
  70,
  107,
  90,
  72,
  107,
  103,
  85,
  50,
  86,
  106,
  10,
  100,
  88,
  74,
  108,
  73,
  69,
  78,
  108,
  99,
  110,
  82,
  112,
  90,
  109,
  108,
  106,
  89,
  88,
  82,
  108,
  73,
  69,
  70,
  49,
  100,
  71,
  104,
  118,
  99,
  109,
  108,
  48,
  101,
  83,
  65,
  116,
  73,
  69,
  99,
  121,
  77,
  66,
  52,
  88,
  68,
  84,
  73,
  48,
  77,
  68,
  73,
  119,
  77,
  106,
  69,
  120,
  77,
  84,
  81,
  121,
  77,
  108,
  111,
  88,
  10,
  68,
  84,
  73,
  49,
  77,
  68,
  73,
  119,
  77,
  106,
  69,
  120,
  77,
  84,
  81,
  121,
  77,
  108,
  111,
  119,
  72,
  106,
  69,
  99,
  77,
  66,
  111,
  71,
  65,
  49,
  85,
  69,
  65,
  119,
  119,
  84,
  75,
  105,
  53,
  106,
  97,
  88,
  66,
  111,
  90,
  88,
  74,
  106,
  98,
  71,
  57,
  49,
  90,
  67,
  53,
  106,
  98,
  121,
  53,
  54,
  89,
  84,
  67,
  67,
  10,
  65,
  83,
  73,
  119,
  68,
  81,
  89,
  74,
  75,
  111,
  90,
  73,
  104,
  118,
  99,
  78,
  65,
  81,
  69,
  66,
  66,
  81,
  65,
  68,
  103,
  103,
  69,
  80,
  65,
  68,
  67,
  67,
  65,
  81,
  111,
  67,
  103,
  103,
  69,
  66,
  65,
  78,
  74,
  72,
  80,
  70,
  75,
  119,
  106,
  110,
  110,
  101,
  104,
  83,
  69,
  51,
  83,
  121,
  48,
  50,
  117,
  55,
  78,
  102,
  10,
  66,
  112,
  111,
  78,
  49,
  111,
  121,
  74,
  49,
  102,
  77,
  98,
  120,
  106,
  110,
  65,
  82,
  71,
  75,
  86,
  75,
  79,
  114,
  55,
  83,
  47,
  103,
  113,
  83,
  97,
  70,
  111,
  100,
  118,
  98,
  84,
  118,
  76,
  120,
  105,
  84,
  122,
  78,
  79,
  105,
  108,
  108,
  115,
  73,
  122,
  68,
  81,
  71,
  75,
  107,
  69,
  73,
  86,
  72,
  81,
  83,
  113,
  73,
  47,
  10,
  47,
  99,
  84,
  104,
  99,
  108,
  66,
  101,
  89,
  118,
  52,
  56,
  122,
  117,
  74,
  75,
  77,
  101,
  48,
  76,
  110,
  111,
  99,
  120,
  105,
  116,
  81,
  119,
  65,
  68,
  113,
  112,
  47,
  77,
  101,
  71,
  106,
  100,
  121,
  74,
  70,
  84,
  81,
  88,
  85,
  111,
  77,
  113,
  100,
  43,
  74,
  104,
  81,
  98,
  101,
  65,
  73,
  116,
  77,
  80,
  47,
  104,
  43,
  103,
  10,
  114,
  56,
  83,
  119,
  77,
  105,
  120,
  87,
  57,
  104,
  66,
  80,
  85,
  53,
  85,
  122,
  51,
  55,
  51,
  115,
  49,
  120,
  66,
  90,
  77,
  82,
  102,
  113,
  67,
  104,
  119,
  53,
  97,
  69,
  73,
  109,
  48,
  53,
  119,
  101,
  85,
  68,
  122,
  82,
  49,
  104,
  71,
  108,
  48,
  87,
  84,
  55,
  99,
  120,
  80,
  84,
  84,
  104,
  66,
  75,
  102,
  73,
  78,
  69,
  10,
  79,
  87,
  50,
  57,
  50,
  49,
  114,
  66,
  105,
  80,
  121,
  109,
  80,
  119,
  76,
  82,
  120,
  101,
  68,
  43,
  71,
  121,
  115,
  73,
  114,
  111,
  97,
  67,
  105,
  84,
  68,
  90,
  113,
  115,
  69,
  87,
  69,
  103,
  116,
  79,
  72,
  108,
  48,
  67,
  66,
  67,
  69,
  89,
  79,
  109,
  65,
  52,
  78,
  117,
  54,
  56,
  75,
  72,
  101,
  117,
  113,
  71,
  70,
  69,
  10,
  73,
  55,
  50,
  53,
  97,
  54,
  113,
  76,
  120,
  72,
  55,
  49,
  85,
  107,
  102,
  73,
  101,
  107,
  69,
  74,
  85,
  55,
  102,
  90,
  55,
  48,
  90,
  121,
  82,
  112,
  119,
  73,
  76,
  48,
  71,
  69,
  101,
  70,
  74,
  89,
  48,
  115,
  107,
  122,
  80,
  57,
  114,
  82,
  97,
  47,
  49,
  75,
  72,
  86,
  86,
  109,
  87,
  99,
  73,
  110,
  109,
  119,
  48,
  67,
  10,
  65,
  119,
  69,
  65,
  65,
  97,
  79,
  67,
  65,
  48,
  103,
  119,
  103,
  103,
  78,
  69,
  77,
  65,
  119,
  71,
  65,
  49,
  85,
  100,
  69,
  119,
  69,
  66,
  47,
  119,
  81,
  67,
  77,
  65,
  65,
  119,
  72,
  81,
  89,
  68,
  86,
  82,
  48,
  108,
  66,
  66,
  89,
  119,
  70,
  65,
  89,
  73,
  75,
  119,
  89,
  66,
  66,
  81,
  85,
  72,
  65,
  119,
  69,
  71,
  10,
  67,
  67,
  115,
  71,
  65,
  81,
  85,
  70,
  66,
  119,
  77,
  67,
  77,
  65,
  52,
  71,
  65,
  49,
  85,
  100,
  68,
  119,
  69,
  66,
  47,
  119,
  81,
  69,
  65,
  119,
  73,
  70,
  111,
  68,
  65,
  53,
  66,
  103,
  78,
  86,
  72,
  82,
  56,
  69,
  77,
  106,
  65,
  119,
  77,
  67,
  54,
  103,
  76,
  75,
  65,
  113,
  104,
  105,
  104,
  111,
  100,
  72,
  82,
  119,
  10,
  79,
  105,
  56,
  118,
  89,
  51,
  74,
  115,
  76,
  109,
  100,
  118,
  90,
  71,
  70,
  107,
  90,
  72,
  107,
  117,
  89,
  50,
  57,
  116,
  76,
  50,
  100,
  107,
  97,
  87,
  99,
  121,
  99,
  122,
  69,
  116,
  77,
  84,
  89,
  48,
  79,
  68,
  107,
  117,
  89,
  51,
  74,
  115,
  77,
  70,
  48,
  71,
  65,
  49,
  85,
  100,
  73,
  65,
  82,
  87,
  77,
  70,
  81,
  119,
  10,
  83,
  65,
  89,
  76,
  89,
  73,
  90,
  73,
  65,
  89,
  98,
  57,
  98,
  81,
  69,
  72,
  70,
  119,
  69,
  119,
  79,
  84,
  65,
  51,
  66,
  103,
  103,
  114,
  66,
  103,
  69,
  70,
  66,
  81,
  99,
  67,
  65,
  82,
  89,
  114,
  97,
  72,
  82,
  48,
  99,
  68,
  111,
  118,
  76,
  50,
  78,
  108,
  99,
  110,
  82,
  112,
  90,
  109,
  108,
  106,
  89,
  88,
  82,
  108,
  10,
  99,
  121,
  53,
  110,
  98,
  50,
  82,
  104,
  90,
  71,
  82,
  53,
  76,
  109,
  78,
  118,
  98,
  83,
  57,
  121,
  90,
  88,
  66,
  118,
  99,
  50,
  108,
  48,
  98,
  51,
  74,
  53,
  76,
  122,
  65,
  73,
  66,
  103,
  90,
  110,
  103,
  81,
  119,
  66,
  65,
  103,
  69,
  119,
  100,
  103,
  89,
  73,
  75,
  119,
  89,
  66,
  66,
  81,
  85,
  72,
  65,
  81,
  69,
  69,
  10,
  97,
  106,
  66,
  111,
  77,
  67,
  81,
  71,
  67,
  67,
  115,
  71,
  65,
  81,
  85,
  70,
  66,
  122,
  65,
  66,
  104,
  104,
  104,
  111,
  100,
  72,
  82,
  119,
  79,
  105,
  56,
  118,
  98,
  50,
  78,
  122,
  99,
  67,
  53,
  110,
  98,
  50,
  82,
  104,
  90,
  71,
  82,
  53,
  76,
  109,
  78,
  118,
  98,
  83,
  56,
  119,
  81,
  65,
  89,
  73,
  75,
  119,
  89,
  66,
  10,
  66,
  81,
  85,
  72,
  77,
  65,
  75,
  71,
  78,
  71,
  104,
  48,
  100,
  72,
  65,
  54,
  76,
  121,
  57,
  106,
  90,
  88,
  74,
  48,
  97,
  87,
  90,
  112,
  89,
  50,
  70,
  48,
  90,
  88,
  77,
  117,
  90,
  50,
  57,
  107,
  89,
  87,
  82,
  107,
  101,
  83,
  53,
  106,
  98,
  50,
  48,
  118,
  99,
  109,
  86,
  119,
  98,
  51,
  78,
  112,
  100,
  71,
  57,
  121,
  10,
  101,
  83,
  57,
  110,
  90,
  71,
  108,
  110,
  77,
  105,
  53,
  106,
  99,
  110,
  81,
  119,
  72,
  119,
  89,
  68,
  86,
  82,
  48,
  106,
  66,
  66,
  103,
  119,
  70,
  111,
  65,
  85,
  81,
  77,
  75,
  57,
  74,
  52,
  55,
  77,
  78,
  73,
  77,
  119,
  111,
  106,
  80,
  88,
  43,
  50,
  121,
  122,
  56,
  76,
  81,
  115,
  103,
  77,
  52,
  119,
  77,
  81,
  89,
  68,
  10,
  86,
  82,
  48,
  82,
  66,
  67,
  111,
  119,
  75,
  73,
  73,
  84,
  75,
  105,
  53,
  106,
  97,
  88,
  66,
  111,
  90,
  88,
  74,
  106,
  98,
  71,
  57,
  49,
  90,
  67,
  53,
  106,
  98,
  121,
  53,
  54,
  89,
  89,
  73,
  82,
  89,
  50,
  108,
  119,
  97,
  71,
  86,
  121,
  89,
  50,
  120,
  118,
  100,
  87,
  81,
  117,
  89,
  50,
  56,
  117,
  101,
  109,
  69,
  119,
  10,
  72,
  81,
  89,
  68,
  86,
  82,
  48,
  79,
  66,
  66,
  89,
  69,
  70,
  66,
  52,
  66,
  47,
  51,
  47,
  68,
  121,
  104,
  121,
  74,
  115,
  55,
  112,
  111,
  105,
  106,
  100,
  108,
  48,
  113,
  122,
  56,
  110,
  65,
  122,
  109,
  77,
  73,
  73,
  66,
  102,
  103,
  89,
  75,
  75,
  119,
  89,
  66,
  66,
  65,
  72,
  87,
  101,
  81,
  73,
  69,
  65,
  103,
  83,
  67,
  10,
  65,
  87,
  52,
  69,
  103,
  103,
  70,
  113,
  65,
  87,
  103,
  65,
  100,
  103,
  66,
  79,
  100,
  97,
  77,
  110,
  88,
  74,
  111,
  81,
  119,
  122,
  104,
  98,
  98,
  78,
  84,
  102,
  80,
  49,
  76,
  114,
  72,
  102,
  68,
  103,
  106,
  104,
  117,
  78,
  97,
  99,
  67,
  120,
  43,
  109,
  83,
  120,
  89,
  112,
  111,
  53,
  51,
  119,
  65,
  65,
  65,
  89,
  49,
  112,
  10,
  104,
  117,
  68,
  89,
  65,
  65,
  65,
  69,
  65,
  119,
  66,
  72,
  77,
  69,
  85,
  67,
  73,
  72,
  76,
  81,
  50,
  116,
  104,
  76,
  118,
  73,
  100,
  90,
  56,
  75,
  107,
  70,
  68,
  56,
  55,
  86,
  66,
  52,
  107,
  103,
  109,
  122,
  107,
  67,
  113,
  56,
  112,
  107,
  87,
  87,
  88,
  113,
  105,
  106,
  54,
  97,
  43,
  78,
  101,
  119,
  65,
  105,
  69,
  65,
  10,
  119,
  76,
  76,
  43,
  82,
  79,
  68,
  71,
  111,
  101,
  80,
  106,
  103,
  52,
  81,
  75,
  79,
  87,
  72,
  80,
  65,
  66,
  79,
  56,
  73,
  83,
  84,
  112,
  81,
  75,
  56,
  77,
  121,
  66,
  81,
  103,
  97,
  113,
  107,
  106,
  102,
  71,
  56,
  65,
  100,
  119,
  66,
  57,
  87,
  82,
  52,
  83,
  52,
  88,
  103,
  113,
  101,
  120,
  120,
  104,
  90,
  51,
  120,
  101,
  10,
  47,
  102,
  106,
  81,
  104,
  49,
  119,
  85,
  111,
  69,
  54,
  86,
  110,
  114,
  107,
  68,
  76,
  57,
  107,
  79,
  106,
  67,
  53,
  53,
  117,
  65,
  65,
  65,
  65,
  89,
  49,
  112,
  104,
  117,
  72,
  110,
  65,
  65,
  65,
  69,
  65,
  119,
  66,
  73,
  77,
  69,
  89,
  67,
  73,
  81,
  68,
  65,
  52,
  68,
  82,
  50,
  83,
  76,
  108,
  71,
  77,
  120,
  121,
  86,
  10,
  119,
  75,
  68,
  84,
  81,
  65,
  82,
  99,
  82,
  121,
  112,
  57,
  113,
  121,
  51,
  84,
  115,
  56,
  79,
  69,
  68,
  65,
  101,
  112,
  56,
  99,
  48,
  85,
  99,
  103,
  73,
  104,
  65,
  73,
  73,
  107,
  53,
  56,
  112,
  87,
  84,
  119,
  53,
  103,
  56,
  101,
  73,
  90,
  120,
  116,
  50,
  100,
  113,
  55,
  71,
  98,
  47,
  73,
  75,
  78,
  101,
  82,
  78,
  65,
  10,
  99,
  74,
  69,
  105,
  108,
  97,
  72,
  47,
  87,
  73,
  76,
  99,
  65,
  72,
  85,
  65,
  122,
  80,
  115,
  80,
  97,
  111,
  86,
  120,
  67,
  87,
  88,
  43,
  108,
  90,
  116,
  84,
  122,
  117,
  109,
  121,
  102,
  67,
  76,
  112,
  104,
  86,
  119,
  78,
  108,
  52,
  50,
  50,
  113,
  88,
  53,
  85,
  119,
  80,
  53,
  77,
  68,
  98,
  65,
  65,
  65,
  65,
  71,
  78,
  10,
  97,
  89,
  98,
  105,
  84,
  81,
  65,
  65,
  66,
  65,
  77,
  65,
  82,
  106,
  66,
  69,
  65,
  105,
  66,
  81,
  73,
  87,
  97,
  113,
  70,
  104,
  106,
  88,
  117,
  49,
  70,
  120,
  107,
  104,
  114,
  104,
  100,
  71,
  87,
  55,
  48,
  80,
  87,
  72,
  77,
  74,
  109,
  57,
  113,
  52,
  101,
  98,
  81,
  104,
  69,
  57,
  66,
  54,
  108,
  97,
  55,
  119,
  73,
  103,
  10,
  67,
  49,
  79,
  113,
  100,
  82,
  43,
  101,
  75,
  79,
  107,
  83,
  106,
  47,
  54,
  80,
  56,
  89,
  83,
  65,
  101,
  52,
  115,
  109,
  57,
  55,
  66,
  98,
  68,
  113,
  66,
  108,
  101,
  54,
  55,
  75,
  69,
  104,
  65,
  104,
  84,
  90,
  99,
  119,
  68,
  81,
  89,
  74,
  75,
  111,
  90,
  73,
  104,
  118,
  99,
  78,
  65,
  81,
  69,
  76,
  66,
  81,
  65,
  68,
  10,
  103,
  103,
  69,
  66,
  65,
  70,
  107,
  48,
  111,
  122,
  110,
  101,
  52,
  48,
  98,
  71,
  101,
  71,
  82,
  103,
  121,
  77,
  85,
  99,
  71,
  55,
  117,
  113,
  109,
  57,
  55,
  117,
  116,
  116,
  73,
  68,
  78,
  81,
  70,
  80,
  89,
  55,
  121,
  84,
  110,
  116,
  88,
  88,
  65,
  66,
  67,
  100,
  57,
  113,
  86,
  65,
  57,
  49,
  115,
  100,
  70,
  57,
  98,
  83,
  10,
  85,
  49,
  85,
  105,
  90,
  48,
  110,
  121,
  76,
  100,
  71,
  80,
  86,
  84,
  80,
  101,
  74,
  118,
  70,
  115,
  54,
  78,
  104,
  49,
  83,
  122,
  107,
  118,
  87,
  106,
  68,
  109,
  67,
  100,
  77,
  98,
  116,
  116,
  112,
  89,
  68,
  97,
  72,
  71,
  97,
  43,
  119,
  121,
  68,
  85,
  97,
  68,
  53,
  120,
  98,
  74,
  105,
  72,
  57,
  113,
  79,
  99,
  112,
  84,
  10,
  90,
  99,
  66,
  104,
  109,
  49,
  55,
  56,
  108,
  56,
  108,
  102,
  68,
  55,
  50,
  114,
  72,
  107,
  100,
  75,
  88,
  112,
  77,
  54,
  109,
  99,
  100,
  71,
  84,
  87,
  112,
  116,
  116,
  84,
  122,
  109,
  68,
  106,
  81,
  51,
  87,
  118,
  43,
  56,
  47,
  68,
  100,
  117,
  89,
  65,
  68,
  86,
  118,
  79,
  70,
  75,
  84,
  48,
  102,
  100,
  122,
  119,
  104,
  107,
  10,
  107,
  48,
  116,
  104,
  98,
  120,
  69,
  73,
  90,
  114,
  87,
  112,
  108,
  74,
  54,
  110,
  77,
  86,
  54,
  100,
  122,
  52,
  119,
  112,
  97,
  88,
  90,
  67,
  55,
  49,
  97,
  73,
  120,
  79,
  89,
  73,
  67,
  80,
  65,
  122,
  80,
  107,
  120,
  80,
  110,
  79,
  54,
  51,
  81,
  112,
  100,
  67,
  76,
  113,
  54,
  89,
  74,
  48,
  78,
  120,
  84,
  77,
  115,
  85,
  10,
  112,
  113,
  82,
  52,
  88,
  101,
  50,
  83,
  111,
  99,
  81,
  108,
  121,
  117,
  105,
  66,
  122,
  77,
  56,
  105,
  103,
  98,
  65,
  111,
  104,
  90,
  110,
  110,
  53,
  84,
  89,
  118,
  48,
  50,
  113,
  47,
  108,
  85,
  57,
  112,
  72,
  87,
  100,
  75,
  47,
  118,
  111,
  56,
  99,
  68,
  104,
  70,
  88,
  55,
  100,
  112,
  104,
  106,
  105,
  52,
  68,
  116,
  83,
  54,
  10,
  110,
  102,
  110,
  97,
  66,
  105,
  78,
  116,
  106,
  79,
  106,
  43,
  121,
  84,
  70,
  120,
  108,
  65,
  65,
  74,
  78,
  118,
  118,
  111,
  117,
  48,
  99,
  61,
  10,
  45,
  45,
  45,
  45,
  45,
  69,
  78,
  68,
  32,
  67,
  69,
  82,
  84,
  73,
  70,
  73,
  67,
  65,
  84,
  69,
  45,
  45,
  45,
  45,
  45,
  10,
  10
];
